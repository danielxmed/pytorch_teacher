{
  "ex-manual-verify": {
    "starterCode": "import torch\nimport math\n\n# f(x) = e^(x²)\n# f'(x) = 2x * e^(x²)\n\nx = torch.tensor([1.0], requires_grad=True)\n\n# Calcule y = e^(x²)\ny = \n\n# Faça backward\n\n\n# Extraia o gradiente\ngradient = ",
    "hints": [
      "Use torch.exp() para a exponencial",
      "y = torch.exp(x**2)",
      "Em x=1: f'(1) = 2*1*e^1 = 2e ≈ 5.4366"
    ],
    "validation": {
      "type": "assert",
      "tests": [
        "expected = 2 * 1.0 * math.exp(1.0)",
        "assert abs(gradient.item() - expected) < 1e-5, f'Gradiente incorreto: esperado {expected:.4f}, obtido {gradient.item():.4f}'"
      ]
    },
    "solution": "y = torch.exp(x**2)\ny.backward()\ngradient = x.grad"
  },
  "ex-multi-var": {
    "starterCode": "import torch\n\n# f(x, y) = x²y + xy²\n# ∂f/∂x = 2xy + y²\n# ∂f/∂y = x² + 2xy\n\nx = torch.tensor([2.0], requires_grad=True)\ny = torch.tensor([3.0], requires_grad=True)\n\n# Calcule f(x, y)\nf = \n\n# Faça backward\n\n\n# Extraia os gradientes\ngrad_x = \ngrad_y = ",
    "hints": [
      "f = x**2 * y + x * y**2",
      "∂f/∂x em (2,3) = 2*2*3 + 3² = 12 + 9 = 21",
      "∂f/∂y em (2,3) = 2² + 2*2*3 = 4 + 12 = 16"
    ],
    "validation": {
      "type": "assert",
      "tests": [
        "assert grad_x.item() == 21.0, f'∂f/∂x incorreto: esperado 21.0, obtido {grad_x.item()}'",
        "assert grad_y.item() == 16.0, f'∂f/∂y incorreto: esperado 16.0, obtido {grad_y.item()}'"
      ]
    },
    "solution": "f = x**2 * y + x * y**2\nf.backward()\ngrad_x = x.grad\ngrad_y = y.grad"
  }
}
